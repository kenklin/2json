<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html" charset="UTF-8" http-equiv="Content-Type">
  <meta name="description" content="2json.com Test Application">
  <title>csv.2json.com Demo</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript">
  function csv2json() {
    var url = 'http://localhost:8080/2json/api?url=' + $('#csvurl').val() + '&header=';
    url += $('#header1').is(':checked') ? '1' : '0';
	$("#csv2jsonurl").val(url);
    $.getJSON(url, {format:'json'}, function(data) {
        $("#json").html(JSON.stringify(data, null, '\t'));
      })
      .fail(function (jqXHR, textStatus, err) {
        $("#json").val(textStatus);
      });
  }
  </script> 
</head>
<body id="body">
  <h1>csv.2json.com Demo</h1>
  This page demonstrates how to use the csv.2json.com web service REST API that transforms CSV files to JSON.<br>
  Github: <a href="http://github.com/kenklin/2json/">http://github.com/kenklin/2json/</a>
  <p>
  <form>
    URL of CSV file to convert: <input type="text" id="csvurl" size="100" value="https://raw.github.com/CityOfPhiladelphia/ppa-data/master/red-light-cameras/red-light-camera-locations.csv"><br>
    Does CSV file have header record:
    <input type="radio" id="header1" name="hasheader" value="1" checked="checked">1
    <input type="radio" id="header0" name="hasheader" value="0">0<br>
    <button type="button" onclick="csv2json();">Submit jQuery.getJSON()</button>
  </form>
  <p>
  <a href="http://api.jquery.com/jQuery.getJSON/">jQuery.getJSON</a>( <em>url</em> [, success(<em>data</em>, textStatus, jqXHR) ] )
  <table>
    <tr>
      <td><em>url</em></td>
	  <td><input type="text" id="csv2jsonurl" size="120" readonly="readonly"></td>
    </tr>
    <tr>
      <td valign="top"><em>data</em></td>
      <td valign="top" id="json"></td>
	</tr>
  </table>
</body>
</html>
